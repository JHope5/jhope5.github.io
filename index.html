<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Dr. Wolf's Cyber Experiment</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="css/main.css" rel="stylesheet">
  <script src="js/1.12.4/jquery.min.js"></script>
  <script src="js/1.12.4/jquery-ui.js"></script>
  

<link rel=stylesheet href=lib/codemirror.css>
<script src=lib/codemirror.js></script>
<script src=lib/xml.js></script>
<script src=lib/javascript.js></script>
<script src=lib/css.js></script>
<script src=lib/closetag.js></script>
<script src=js/custom.js></script>

<style type="text/css">
  .CodeMirror {
    height: auto;
  }
  iframe {
    width: 49%;
    float: left;
    height: 300px;
    border: 1px solid black;
    border-left: 0px;
  }
</style>
</head>
<body>
<div class="panel-primary header">
  <div class="panel-heading">
    <h3 class="panel-title">
      <button id="runButton" type="button" class="btn btn-default" onclick="executeCode()">Execute Code</button>
      <button id="resetButton" type="button" class="btn btn-default" onclick="window.location.reload()">Reset Level</button>
    </h3>
  </div>
</div>

   <div id="mainContent" class="mainContent">
     <div id="mainContentHolder">
      <div class="main-left">
        <div class="left-inner-content">
          <div class="left-inner-main">
              <textarea id=editor name=editor></textarea>
          </div>
        </div>
      </div>
      <div class="main-right">
        <div class="right-inner-content">
          <div class="right-inner-main">
            <div id="iframewrapper"></div>
          </div>
        </div>
      </div>
    </div>
   </div>
<script>
// Initializing CodeMirror editor
var textArea = document.getElementById('editor');
var editor = CodeMirror.fromTextArea(textArea, {
  mode: 'text/html',
  tabMode: 'indent',
  lineNumbers: true,
  lineWrapping: true,
  autoCloseTags: true
});

function get_file(url, callback)
{
    xmlhttp=new XMLHttpRequest();
    xmlhttp.open("GET", url, true);
    xmlhttp.onreadystatechange = function()
    {
        if (xmlhttp.readyState == 4 && xmlhttp.status == 200)
        {
            callback(xmlhttp.responseText);
        }
    }
    xmlhttp.send();
}

get_file("example.html", function(response)
{
    document.getElementById('editor').innerHTML=response;
    // Loading file into CodeMirror editor
    editor.getDoc().setValue(response);
    loadEditor(editor);
});
</script>

</body>
</html>
