<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Dr. Wolf's Cyber Experiment</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <link href="css/main.css" rel="stylesheet">
  <script src="js/1.12.4/jquery.min.js"></script>
  <script src="js/1.12.4/jquery-ui.js"></script>
  

<link rel=stylesheet href=lib/codemirror.css>
<script src=lib/codemirror.js></script>
<script src=lib/xml.js></script>
<script src=lib/javascript.js></script>
<script src=lib/css.js></script>
<script src=lib/closetag.js></script>
<script src=js/custom.js></script>

<style type="text/css">
  .CodeMirror {
    height: auto;
  }
</style>
</head>
<body>
<div class="panel-primary header">
  <div class="panel-heading">
    <h3 class="panel-title">
      <button id="runButton" type="button" class="btn btn-default" onclick="executeCode()">Execute Code</button>
    </h3>
  </div>
</div>

   <div id="mainContent" class="mainContent">
     <div id="mainContentHolder">
      <div class="main-left">
        <div class="left-inner-content">
          <div class="left-inner-main">
              <textarea id=editor name=editor><script>
// These 2 lines are
// not editable

  // EDITABLE BEGINS            
  for (y = 3; y <= map.getHeight() - 10; y++) {
    map.placeObject(5, y, 'block');
    map.placeObject(map.getWidth() - 5, y, 'block');
  }
                 
  for (x = 5; x <= map.getWidth() - 5; x++) {
    map.placeObject(x, 3, 'block');
    map.placeObject(x, map.getHeight() - 10, 'block');
  }
  // EDITABLE ENDS

  // Neither are
  // These 2
</script></textarea>
          </div>
        </div>
      </div>
      <div class="main-right">
        <div class="right-inner-content">
          <div class="right-inner-main">
            <div id="iframewrapper"></div>
          </div>
        </div>
      </div>
    </div>
   </div>
<script>
var lowEnd = 0;
var highEnd = 4;
var readOnlyLines = [14, 15, 16, 17, 18];
while(lowEnd <= highEnd){
   readOnlyLines.push(lowEnd++);
}

// Initialize CodeMirror editor with a nice html5 canvas demo.
var editor = CodeMirror.fromTextArea(document.getElementById('editor'), {
  lineNumbers: true,
  mode: 'text/javascript',
  autoCloseTags: true
});

editor.on('beforeChange', function(cm, change) {
  if( ~readOnlyLines.indexOf(change.from.line) ) {
    change.cancel();
  }
});
executeCode();
</script>

</body>
</html>
